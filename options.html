<!DOCTYPE html>
<html lang="en">

<!--
  Copyright 2014 Pants project contributors (see CONTRIBUTORS.md).
  Licensed under the Apache License, Version 2.0 (see LICENSE).
-->

<head>
  <meta charset="utf-8"/>
  <title>Pants Options</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="pants-logo.ico">
  <!-- In case this is a "test publish", tell search engines where real version lives: -->
  <link rel="canonical" href="http://pantsbuild.org/options.html">

  <link rel="stylesheet" href="bootstrap-custom.min.css">
  <link rel="stylesheet" href="bootstrap-custom-theme.min.css">
  <link rel="stylesheet" href="docsite.css">
</head>

<body>

<div class="header">
  <nav class="navbar navbar-default navbar-static-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand navbar-brand-img" href="index.html">
          <img src="pants-logo.ico" alt="[pantsbuild logo]">
        </a>
        <a class="navbar-brand" href="index.html">
          Pants
        </a>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="/">Docs</a></li>
          <li><a href="community.html">Community</a></li>
          <li><a href="https://www.github.com/pantsbuild/pants">GitHub</a></li>
          <li>
            <form class="navbar-form navbar-left search" role="search" action="https://www.google.com/search">
              <div class="form-group">
                <input type="text" name="as_q" class="form-control query" placeholder="Search">
                <input name="as_sitesearch" value="pantsbuild.org" type="hidden">
              </div>
            </form>
          </li>
        </ul>
      </div><!--/.nav-collapse -->
    </div>
  </nav>
</div>

<div class="page">

  <div class="container-fluid">
    <div class="row">

      <div class="col-md-1">
      </div>

      <div class="col-md-2">
        <div class="site-toc">
          <ul>
                  <li class="toc-h1 toc-heading">
                    Getting Started
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="install.html">Installing Pants</a>
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="setup_repo.html">Setting Up Pants</a>
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="first_tutorial.html">Tutorial</a>
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="common_tasks.html">Common Tasks</a>
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="orgs.html">Pants for Organizations</a>
                  </li>
                  <li class="toc-h1 toc-heading">
                    Pants Basics
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="why_use_pants.html">Why Use Pants?</a>
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="first_concepts.html">Pants Concepts</a>
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="build_files.html">BUILD files</a>
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="target_addresses.html">Target Addresses</a>
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="3rdparty.html">Third-Party Dependencies</a>
                  </li>
                  <li class="toc-h1 toc-link toc-here">
                    Pants Options
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="invoking.html">Invoking Pants</a>
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="reporting_server.html">Reporting Server</a>
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="ide_support.html">IDE Support</a>
                  </li>
                <li class="toc-h1">
                  <a class="sidebar-nav-heading" class="toc-drop" data-toggle="collapse" href="#JVM-Support" aria-expanded="false" aria-controls="JVM-Support">JVM Support<span class="caret"></span></a>
                    <ul class="collapse sidebar-nav sidebar-submenu" id="JVM-Support">
                        <li class="toc-h1 toc-link ">
                          <a href="jvm_projects.html">JVM Projects with Pants</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="3rdparty_jvm.html">JVM Dependency Management</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="scala.html">Scala Support</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="publish.html">Publishing Artifacts</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="from_maven.html">Pants for Maven Experts</a>
                        </li>
                    </ul>
                </li>
                <li class="toc-h1">
                  <a class="sidebar-nav-heading" class="toc-drop" data-toggle="collapse" href="#Python-Support" aria-expanded="false" aria-controls="Python-Support">Python Support<span class="caret"></span></a>
                    <ul class="collapse sidebar-nav sidebar-submenu" id="Python-Support">
                        <li class="toc-h1 toc-link ">
                          <a href="python_readme.html">Python Projects with Pants</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="3rdparty_py.html">Python 3rdparty Pattern</a>
                        </li>
                    </ul>
                </li>
                  <li class="toc-h1 toc-link ">
                    <a href="go_readme.html">Go support for Pants</a>
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="node_readme.html">Node.js Support</a>
                  </li>
                  <li class="toc-h1 toc-heading">
                    Code &amp; Doc Generation
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="thrift_deps.html">Thrift</a>
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="grpcio_gen.html">Python gRPC + protobufs</a>
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="page.html">Markdown</a>
                  </li>
                  <li class="toc-h1 toc-heading">
                    Getting Help
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="tshoot.html">Troubleshooting</a>
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="community.html">Community</a>
                  </li>
                  <li class="toc-h1 toc-heading">
                    Reference
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="build_dictionary.html">Pants BUILD Dictionary</a>
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="options_reference.html">Pants Reference</a>
                  </li>
                <li class="toc-h1">
                  <a class="sidebar-nav-heading" class="toc-drop" data-toggle="collapse" href="#Release-Notes" aria-expanded="false" aria-controls="Release-Notes">Release Notes<span class="caret"></span></a>
                    <ul class="collapse sidebar-nav sidebar-submenu" id="Release-Notes">
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.26.x.html">1.26.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.25.x.html">1.25.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.24.x.html">1.24.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.23.x.html">1.23.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.22.x.html">1.22.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.21.x.html">1.21.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.20.x.html">1.20.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.19.x.html">1.19.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.18.x.html">1.18.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.17.x.html">1.17.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.16.x.html">1.16.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.15.x.html">1.15.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.14.x.html">1.14.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.13.x.html">1.13.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.12.x.html">1.12.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.11.x.html">1.11.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.10.x.html">1.10.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.9.x.html">1.9.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.8.x.html">1.8.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.7.x.html">1.7.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.6.x.html">1.6.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.5.x.html">1.5.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.4.x.html">1.4.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.3.x.html">1.3.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.2.x.html">1.2.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.1.x.html">1.1.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-1.0.x.html">1.0.x Stable Releases</a>
                        </li>
                        <li class="toc-h1 toc-link ">
                          <a href="notes-master.html">Master Pre-Releases</a>
                        </li>
                    </ul>
                </li>
                  <li class="toc-h1 toc-heading">
                    Developer
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="dev.html">Pants Developer Center</a>
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="export.html">Export Format</a>
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="architecture.html">Architecture</a>
                  </li>
                  <li class="toc-h1 toc-heading">
                    Blogs
                  </li>
                  <li class="toc-h1 toc-link ">
                    <a href="coursier_migration.html">Twitter&#x27;s Coursier Migration</a>
                  </li>
          </ul>
        </div> <!-- site-toc -->
      </div>

      <div class="col-md-8">
        <div class="content">

          <div class="mainflow">
              <nav class="pagetoc">
                <ul>
                    <li class="toc-h1"><a href="#option-scopes">Option Scopes</a></li>
                    <li class="toc-h1"><a href="#basic-vs-advanced-options">Basic vs. Advanced Options</a></li>
                    <li class="toc-h1"><a href="#recursive-options">Recursive Options</a></li>
                    <li class="toc-h1"><a href="#option-types">Option Types</a></li>
                    <li class="toc-h2"><a href="#boolean-options">Boolean Options</a></li>
                    <li class="toc-h2"><a href="#int-and-float-options">Int and Float Options</a></li>
                    <li class="toc-h2"><a href="#string-options">String Options</a></li>
                    <li class="toc-h2"><a href="#list-options">List Options</a></li>
                    <li class="toc-h2"><a href="#dict-options">Dict Options</a></li>
                    <li class="toc-h2"><a href="#available-options">Available Options</a></li>
                    <li class="toc-h1"><a href="#setting-option-values">Setting Option Values</a></li>
                    <li class="toc-h2"><a href="#command-line-flags">Command Line Flags</a></li>
                    <li class="toc-h2"><a href="#environment-variables">Environment Variables</a></li>
                    <li class="toc-h2"><a href="#config-file">Config File</a></li>
                    <li class="toc-h2"><a href="#overlaying-config-files">Overlaying Config Files</a></li>
                    <li class="toc-h2"><a href="#legacy-ini-format">Legacy INI format</a></li>
                    <li class="toc-h2"><a href="#migrating-from-ini-to-toml">Migrating from INI to TOML</a></li>
                    <li class="toc-h1"><a href="#troubleshooting-config-files">Troubleshooting Config Files</a></li>
                    <li class="toc-h2"><a href="#use-the-right-section-name">Use the Right Section Name</a></li>
                    <li class="toc-h2"><a href="#validate-the-toml">Validate the TOML</a></li>
                </ul>
              </nav>

            <!-- main content start -->
            <!-- generated by pants! -->
<style>
.codehilite .hll { background-color: #ffffcc }
.codehilite  { background: #f0f0f0; }
.codehilite .c { color: #60a0b0; font-style: italic } /* Comment */
.codehilite .err { border: 1px solid #FF0000 } /* Error */
.codehilite .k { color: #007020; font-weight: bold } /* Keyword */
.codehilite .o { color: #666666 } /* Operator */
.codehilite .ch { color: #60a0b0; font-style: italic } /* Comment.Hashbang */
.codehilite .cm { color: #60a0b0; font-style: italic } /* Comment.Multiline */
.codehilite .cp { color: #007020 } /* Comment.Preproc */
.codehilite .cpf { color: #60a0b0; font-style: italic } /* Comment.PreprocFile */
.codehilite .c1 { color: #60a0b0; font-style: italic } /* Comment.Single */
.codehilite .cs { color: #60a0b0; background-color: #fff0f0 } /* Comment.Special */
.codehilite .gd { color: #A00000 } /* Generic.Deleted */
.codehilite .ge { font-style: italic } /* Generic.Emph */
.codehilite .gr { color: #FF0000 } /* Generic.Error */
.codehilite .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.codehilite .gi { color: #00A000 } /* Generic.Inserted */
.codehilite .go { color: #888888 } /* Generic.Output */
.codehilite .gp { color: #c65d09; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.codehilite .gt { color: #0044DD } /* Generic.Traceback */
.codehilite .kc { color: #007020; font-weight: bold } /* Keyword.Constant */
.codehilite .kd { color: #007020; font-weight: bold } /* Keyword.Declaration */
.codehilite .kn { color: #007020; font-weight: bold } /* Keyword.Namespace */
.codehilite .kp { color: #007020 } /* Keyword.Pseudo */
.codehilite .kr { color: #007020; font-weight: bold } /* Keyword.Reserved */
.codehilite .kt { color: #902000 } /* Keyword.Type */
.codehilite .m { color: #40a070 } /* Literal.Number */
.codehilite .s { color: #4070a0 } /* Literal.String */
.codehilite .na { color: #4070a0 } /* Name.Attribute */
.codehilite .nb { color: #007020 } /* Name.Builtin */
.codehilite .nc { color: #0e84b5; font-weight: bold } /* Name.Class */
.codehilite .no { color: #60add5 } /* Name.Constant */
.codehilite .nd { color: #555555; font-weight: bold } /* Name.Decorator */
.codehilite .ni { color: #d55537; font-weight: bold } /* Name.Entity */
.codehilite .ne { color: #007020 } /* Name.Exception */
.codehilite .nf { color: #06287e } /* Name.Function */
.codehilite .nl { color: #002070; font-weight: bold } /* Name.Label */
.codehilite .nn { color: #0e84b5; font-weight: bold } /* Name.Namespace */
.codehilite .nt { color: #062873; font-weight: bold } /* Name.Tag */
.codehilite .nv { color: #bb60d5 } /* Name.Variable */
.codehilite .ow { color: #007020; font-weight: bold } /* Operator.Word */
.codehilite .w { color: #bbbbbb } /* Text.Whitespace */
.codehilite .mb { color: #40a070 } /* Literal.Number.Bin */
.codehilite .mf { color: #40a070 } /* Literal.Number.Float */
.codehilite .mh { color: #40a070 } /* Literal.Number.Hex */
.codehilite .mi { color: #40a070 } /* Literal.Number.Integer */
.codehilite .mo { color: #40a070 } /* Literal.Number.Oct */
.codehilite .sa { color: #4070a0 } /* Literal.String.Affix */
.codehilite .sb { color: #4070a0 } /* Literal.String.Backtick */
.codehilite .sc { color: #4070a0 } /* Literal.String.Char */
.codehilite .dl { color: #4070a0 } /* Literal.String.Delimiter */
.codehilite .sd { color: #4070a0; font-style: italic } /* Literal.String.Doc */
.codehilite .s2 { color: #4070a0 } /* Literal.String.Double */
.codehilite .se { color: #4070a0; font-weight: bold } /* Literal.String.Escape */
.codehilite .sh { color: #4070a0 } /* Literal.String.Heredoc */
.codehilite .si { color: #70a0d0; font-style: italic } /* Literal.String.Interpol */
.codehilite .sx { color: #c65d09 } /* Literal.String.Other */
.codehilite .sr { color: #235388 } /* Literal.String.Regex */
.codehilite .s1 { color: #4070a0 } /* Literal.String.Single */
.codehilite .ss { color: #517918 } /* Literal.String.Symbol */
.codehilite .bp { color: #007020 } /* Name.Builtin.Pseudo */
.codehilite .fm { color: #06287e } /* Name.Function.Magic */
.codehilite .vc { color: #bb60d5 } /* Name.Variable.Class */
.codehilite .vg { color: #bb60d5 } /* Name.Variable.Global */
.codehilite .vi { color: #bb60d5 } /* Name.Variable.Instance */
.codehilite .vm { color: #bb60d5 } /* Name.Variable.Magic */
.codehilite .il { color: #40a070 } /* Literal.Number.Integer.Long */
</style>
<h1 id="pants-options">Pants Options</h1>
<p>Pants is very configurable and has literally hundreds of tuneable parameters, known in Pants
parlance as <em>options</em>.</p>
<p>Most options are automatically set to useful defaults. However it is inevitable that sooner or
later you'll need to tweak some of them.  For example, you may want <a href="install.html">to pin your Pants version</a>.</p>
<p>The Pants options system is fairly complex. Codebase administrators will need to understand its details
and nuances. End users, however, can usually get by with just a superficial view.</p>
<h2 id="option-scopes">Option Scopes</h2>
<p>Pants has many moving parts, and more can be added via custom plugins. To avoid option naming collisions,
each configurable component is qualified by a <em>scope</em>.</p>
<ul>
<li>Global options belong to the global scope.</li>
<li>Options for task <code>task</code> in goal <code>goal</code> belong to the <code>goal.task</code> scope. E.g., <code>gen.thrift</code> or <code>compile.rsc</code>.
  However if the task has the same name as the goal, then the scope is just that name. E.g., <code>./pants list</code>,
  not <code>./pants list.list</code>.</li>
<li>Options for the global instance of subsystem <code>subsystem</code> belong to the <code>subsystem</code> scope. E.g., <code>jvm</code> or <code>cache</code>.</li>
<li>Options for the instance of subsystem <code>subsystem</code> belonging to some other task or subsystem with scope <code>scope</code>
  belong to the <code>subsystem.scope</code> scope. E.g., <code>cache.compile.rsc</code>.</li>
</ul>
<p>The scope names are used to qualify the option names when setting their values, as explained in
the remainder of this document.</p>
<h2 id="basic-vs-advanced-options">Basic vs. Advanced Options</h2>
<p>Some options, such as <code>-l</code> to control the logging verbosity level, are
expected to be set directly by users, as needed. But most options are
expected to be configured once by a codebase administrator and not
directly modified by users. These latter options are called <em>advanced</em>
options, and are not enumerated in help messages by default.  Advanced
options may change the way projects are built and packaged, impact the
build cache or change test behavior.  For that reason, they should
usually be set in config files and checked in to the repo so that
build output is consistent, no matter which user invokes it.</p>
<p>To show the full list of options for a goal, including advanced
options, use <code>./pants &lt;goal&gt; --help-advanced</code>.  You can view
all options for all scopes with <code>./pants --help-all --help-advanced</code>.</p>
<h2 id="recursive-options">Recursive Options</h2>
<p>A handful of global options, such as <code>-l</code>, are <em>recursive</em>. That is, they have a global value which
can be overridden in each scope.  This allows you, for example, to set different logging verbosity
levels in different tasks.</p>
<h2 id="option-types">Option Types</h2>
<p>Option value formats are the same on the command-line, environment variables and in <code>pants.toml</code>, except for list options. There are also a couple of extra command-line conveniences.</p>
<h3 id="boolean-options">Boolean Options</h3>
<p>The boolean option values are <code>false</code> and <code>true</code>.</p>
<p>With the command line and environment variables, you can omit the value thus: <code>--foo-bar</code> is the same as <code>--foo-bar=false</code>,
  and <code>--no-foo-bar</code> is the same as <code>--foo-bar=false</code>.</p>
<h3 id="int-and-float-options">Int and Float Options</h3>
<p>Specify values in decimal notation: <code>--foo=5</code>, <code>--bar=4.5</code>.</p>
<div class="codehilite"><pre><span></span>foo = 5
bar = 4.5
</pre></div>
<h3 id="string-options">String Options</h3>
<p>Surround strings with single or double quotes: <code>--foo="hello, world"</code>.</p>
<div class="codehilite"><pre><span></span>foo = "hello world"
</pre></div>
<h3 id="list-options">List Options</h3>
<p>List options can be added to and removed, as well as overridden.
For example, for an option <code>--foo</code> whose default value is <code>[1, 2]</code>, then in <code>pants.toml</code>:</p>
<ul>
<li><code>foo = 3</code> will yield <code>[1, 2, 3]</code>.</li>
<li><code>foo.add = [3, 4]</code> will yield <code>[1, 2, 3, 4]</code>.</li>
<li><code>foo.remove = [1]</code> will yield <code>[2]</code>.</li>
<li><code>foo = [3, 4]</code> will yield <code>[3, 4]</code>.</li>
</ul>
<p>In <code>pants.toml</code>, you may both add and remove simultaneously:</p>
<div class="codehilite"><pre><span></span># This will yield [2, 3, 4]
foo.add = [3, 4]
foo.remove = [1]
</pre></div>
<p>Adding a single value and replacing a list works the same as <code>pants.toml</code> for the command line and environment variables.</p>
<ul>
<li><code>--foo=3</code> will yield <code>[1, 2, 3]</code>.</li>
<li><code>--foo='[3, 4]'</code> will yield <code>[3, 4]</code>.</li>
</ul>
<p>The syntax is a little different from <code>pants.toml</code>, however, when removing values or adding multiple values.</p>
<ul>
<li><code>--foo='+[3, 4]'</code> will yield <code>[1, 2, 3, 4]</code>.</li>
<li><code>--foo='-[1]'</code> will yield <code>[2]</code>.</li>
<li><code>--foo='+[3,4],-[1]'</code> will yield <code>[2, 3, 4]</code>.</li>
</ul>
<p>On the command line, you can also add single values multiple times:</p>
<ul>
<li><code>--foo=3 --foo=4</code> will yield the value <code>[1, 2, 3, 4]</code>.</li>
</ul>
<p>Note that these command line values will be added to the list determined from the defaults
plus the values in <code>pants.toml</code>. To instead override the list, use <code>--foo='[3, 4]'</code>.</p>
<p>Removes apply to the entire list constructed so far, and will remove all appearances of the value:</p>
<ul>
<li><code>--foo=1 --foo=1 --foo=2 --foo='-[1]'</code> will yield <code>[2, 2]</code>.</li>
</ul>
<p>Removes take precedence over adds, so you cannot "add something back in":</p>
<ul>
<li><code>--foo=-[2] --foo=2</code> will yield <code>[1]</code>.</li>
</ul>
<h3 id="dict-options">Dict Options</h3>
<p>Dict option values are Python-style dict literals embedded in a string, e.g: <code>--foo='{"a": 1,"b": 2}'</code>.</p>
<p>In <code>pants.toml</code>, it often helps to use multiline strings for readability, e.g.:</p>
<div class="codehilite"><pre><span></span>foo = """
{
  "a": 1,
  "b": 2,
}
"""
</pre></div>
<h3 id="available-options">Available Options</h3>
<p>The options available in a given Pants-enabled codebase depend on which backends and plugins are activated.</p>
<ul>
<li>View <a href="" title="options_reference.html">all options</a> available in a "vanilla" Pants install.</li>
<li>To see a complete list of all basic options available in a given Pants-enabled codebase, enter <code>./pants help-all</code>.</li>
<li>To see global (or goal-specific) basic options, enter <code>./pants help (goal)</code>.</li>
<li>To see global (or goal-specific) basic and advanced options, enter <code>./pants help-advanced (goal)</code>.</li>
</ul>
<h2 id="setting-option-values">Setting Option Values</h2>
<p>Every Pants option can be set in one three ways, in descending order of precendence:</p>
<ul>
<li>Using a command-line flag.</li>
<li>Using an environment variable.</li>
<li>In a config file.</li>
</ul>
<p>Config files are typically used to set codebase-wide defaults for all users.  Individual
users can then override various values using environment variables or command-line flags.</p>
<p>Options that aren't set by one of these three methods will fall back to a sensible default, so
that Pants will work "out of the box" in common scenarios.</p>
<h3 id="command-line-flags">Command Line Flags</h3>
<p>Option <code>option</code> in scope <code>foo.bar</code> can be set using the flag <code>--foo-bar-option=&lt;value&gt;</code>.</p>
<p>Global options are set with no scope qualifier, e.g., <code>--pants-workdir=/path/to/workdir</code>.</p>
<p>Values for single-letter flags (those that start with a single dash) can be set without the equals
sign: <code>-ldebug</code> is the same as <code>--level=debug</code> (<code>-l</code> is a synonym for <code>--level</code>).  All other flags
must use an equals sign to set a value.</p>
<p>There's a useful shorthand that can save some typing when setting multiple options for a single task:
if you invoke a task explicitly on the command line then you can follow that task with unqualified
options in its scope. E.g., <code>./pants compile.rsc --no-incremental --name-hashing</code>
instead of <code>./pants compile --no-compile-rsc-incremental --compile-rsc-name-hashing</code>.</p>
<p>Note that this shorthand requires you to mention a specific task, not just a goal: <code>./pants compile.rsc</code>
instead of just <code>./pants compile</code> as you would usually enter. <strong>All tasks in the <code>compile</code> goal will
still be executed, not just <code>compile.rsc</code></strong>, but the <code>.zinc</code> addition is a convenience to support shorthand options.</p>
<p>This works when specifying multiple goals, e.g.,</p>
<p><code>./pants compile.rsc --no-incremental --name-hashing test.junit --parallel-threads=4</code></p>
<h3 id="environment-variables">Environment Variables</h3>
<p>Option <code>option</code> in scope <code>foo.bar</code> can be set via the environment variable <code>PANTS_FOO_BAR_OPTION</code>.
E.g., <code>PANTS_COMPILE_ZINC_INCREMENTAL=false</code>.</p>
<p>Global options can be set using <code>PANTS_GLOBAL_OPTION</code> as expected, but you can also omit the GLOBAL
and use <code>PANTS_OPTION</code>. E.g., <code>PANTS_LEVEL=debug</code>.</p>
<p>If a global option name itself starts with the word 'pants' then you can omit the repetition. E.g.,
<code>PANTS_WORKDIR</code> instead of <code>PANTS_PANTS_WORKDIR</code>.</p>
<p>Environment variables are overridden by command line flags, but take
precedence over settings in config files.</p>
<h3 id="config-file">Config File</h3>
<p>The main Pants config file location is <code>pants.toml</code> in your source tree's top-level directory.
If you installed Pants <a href="install.html">as recommended</a>, this file should already exist.</p>
<p>The <code>pants.toml</code> file is <a href="https://github.com/toml-lang/toml/blob/master/README.md">a TOML file</a>, with some extra features like string interpolation added by Pants.</p>
<p>A <code>pants.toml</code> file looks something like:</p>
<div class="codehilite"><pre><span></span>[pytest]
option1 = "value"
option2 = true
option3 = 10

[cache.java]
option1 = ["a", "b"]
</pre></div>
<p>Sections in the <code>.toml</code> file correspond to the task name or
subsystem name, or a combination of both.</p>
<p>The <code>[DEFAULT]</code> section is special: its values are available in all other sections by using <code>printf</code>-style string interpolation, e.g.</p>
<div class="codehilite"><pre><span></span>[DEFAULT]
thrift_workdir = "%(pants_workdir)s/thrift"

[GLOBAL]
print_exception_stacktrace = true

[gen.thrift]
workdir = "%(thrift_workdir)s"

[compile.rsc]
args = ["-C-Tnowarnprefixes", "-C%(thrift_workdir)s"]
</pre></div>
<p>You may also interpolate values from within the same section:</p>
<div class="codehilite"><pre><span></span>[GLOBAL]
pants_version = "1.26.0"
plugins = ["pantsbuild.pants.contrib.go==%(pants_version)s"]
</pre></div>
<p>Settings in config files are overridden by options specified in the
environment or by command line flags.</p>
<p>There are a few differences in using options in the config file compared to invoking them from the
command line:</p>
<ul>
<li>Omit the leading double dash (<code>--</code>)</li>
<li>Dash characters (<code>-</code>) are transposed to underscores (<code>_</code>).</li>
<li>Boolean flag values are enabled and disabled by setting the value
    of the option to <code>true</code> or <code>false</code></li>
<li>The prefix for long form options is not specified. Instead, you must organize the options
    into their appropriate sections.</li>
</ul>
<h3 id="overlaying-config-files">Overlaying Config Files</h3>
<p>Sometimes it's convenient to keep <code>.toml</code> settings in more than one file. Perhaps you usually
operate Pants in one "mode", but occasionally need to use a tweaked set of settings.</p>
<p>Use the <code>--pants-config-files</code> command-line option to specify a second <code>.toml</code> file. Each of
this <code>.toml</code> file's values override the corresponding value in <code>pants.toml</code>, if any.
For example, if your <code>pants.toml</code> contains the section</p>
<div class="codehilite"><pre><span></span>[test.junit]
coverage_html_open = true
debug = false
</pre></div>
<p>...and you invoke <code>--pants-config-files=quick.toml</code> and your <code>quick.toml</code> says</p>
<div class="codehilite"><pre><span></span>[test.junit]
coverage_html_open = false
skip = true
</pre></div>
<p>...then Pants will act as if you specified</p>
<div class="codehilite"><pre><span></span>[test.junit]
coverage_html_open = false
skip = true
debug = false
</pre></div>
<p>Note that <code>--pants-config-files</code> is a list-valued option, so all the
idioms of lists work. You can add a third file with another invocation
of <code>--pants-config-files=&lt;path&gt;</code>, or you can replace the standard one
entirely with <code>--pants-config-files=[&lt;list&gt;]</code>.</p>
<h3 id="legacy-ini-format">Legacy INI format</h3>
<p>Pants also understands config files written in INI. You can safely intermix both TOML and INI config files.</p>
<p>INI is very similar to TOML, but has some important differences.</p>
<p>You may either use <code>:</code> or <code>=</code> as a delimiter, unlike TOML always using <code>=</code>.</p>
<div class="codehilite"><pre><span></span><span class="k">[section-name]</span>
<span class="na">val1</span> <span class="o">=</span> <span class="s">"a"</span>
<span class="na">val2: "a"</span>
</pre></div>
<p>String values should not have quotes around them:</p>
<div class="codehilite"><pre><span></span><span class="c1"># Bad</span>
<span class="na">val</span> <span class="o">=</span> <span class="s">"a"</span>

<span class="c1"># Good</span>
<span class="na">val</span> <span class="o">=</span> <span class="s">a</span>
</pre></div>
<p>Dict options should not have quotes around the <code>{}</code> symbols, although the elements must still use quotes:</p>
<div class="codehilite"><pre><span></span><span class="c1"># Bad</span>
<span class="na">dict_option</span> <span class="o">=</span> <span class="s">"{'a': 0}"</span>
<span class="na">dict_option</span> <span class="o">=</span> <span class="s">"""{'a': 0}"""</span>

<span class="c1"># Good</span>
<span class="na">dict_option</span> <span class="o">=</span> <span class="s">{'a': 0}</span>
</pre></div>
<p>Every line of list and dict values must be indented:</p>
<div class="codehilite"><pre><span></span><span class="c1"># Bad</span>
<span class="na">list_option</span> <span class="o">=</span> <span class="s">[</span>
<span class="s">  'a',</span>
<span class="s">  'b',</span>
<span class="na">]</span>
<span class="na">dict_option</span> <span class="o">=</span> <span class="s">{</span>
<span class="s">  'a': 0,</span>
<span class="s">  'b': 1,</span>
<span class="na">}</span>

<span class="c1"># Good</span>
<span class="na">list_option</span> <span class="o">=</span> <span class="s">[</span>
<span class="s">    'a',</span>
<span class="s">    'b',</span>
<span class="s">  ]</span>
<span class="na">dict_option</span> <span class="o">=</span> <span class="s">{</span>
<span class="s">    'a': 0,</span>
<span class="s">    'b': 1,</span>
<span class="s">  }</span>
</pre></div>
<p>To add or remove to a list option, use the same syntax as the command line:</p>
<div class="codehilite"><pre><span></span><span class="c1"># Bad</span>
<span class="na">list_option.add</span> <span class="o">=</span> <span class="s">["a", "b"]</span>
<span class="na">list_option.remove</span> <span class="o">=</span> <span class="s">["c"]</span>

<span class="c1"># Good</span>
<span class="na">list_option</span> <span class="o">=</span> <span class="s">+["a", "b"],-["c"]</span>
</pre></div>
<h3 id="migrating-from-ini-to-toml">Migrating from INI to TOML</h3>
<p>While Pants will support both INI and TOML config files for some time, we encourage you to write any new config files in TOML and to consider migrating any pre-existing config files to TOML. TOML removes many gotchas and has benefits like validation from your text editor.</p>
<p>To migrate, you must be using a modern version of the <code>./pants</code> script that understands <code>pants.toml</code>. Run <code>curl -L -O https://pantsbuild.github.io/setup/pants</code> to pull the latest version of the script. </p>
<p>We wrote a script to automate fixing the majority of issues:</p>
<div class="codehilite"><pre><span></span>$ curl -L -o migrate_to_toml_config.py <span class="s1">'https://git.io/Jv02R'</span> <span class="o">&amp;&amp;</span> chmod +x migrate_to_toml_config.py <span class="o">&amp;&amp;</span> ./migrate_to_toml_config.py pants.ini
</pre></div>
<p>After running this script, open the generated TOML file in your editor to see if there are any issues. (You may need to install a TOML plugin for your editor). You will likely need to fix some issues, especially fixing any multi-line list or dict options.</p>
<p>Then, remove the INI file and run <code>./pants</code> to validate that the file is read correctly.</p>
<h2 id="troubleshooting-config-files">Troubleshooting Config Files</h2>
<h3 id="use-the-right-section-name">Use the Right Section Name</h3>
<p>Section names must correspond to actual option scopes.  Use the correct section name as specified
in the help output:</p>
<div class="codehilite"><pre><span></span># Wrong
[compile]  # The correct scope for the 'warnings' option is compile.rsc
zinc_warnings = false

# Right
[compile.rsc]
warnings = false
</pre></div>
<p>When in doubt, the scope is described in the heading for each option in the help output:</p>
<div class="codehilite"><pre><span></span>$ ./pants compile.rsc --help

compile.rsc options:
Compile Scala and Java code using Zinc.

--<span class="o">[</span>no-<span class="o">]</span>compile-rsc-debug-symbols <span class="o">(</span>default: False<span class="o">)</span>
    Compile with debug symbol enabled.
...
</pre></div>
<h3 id="validate-the-toml">Validate the TOML</h3>
<p>Most editors will warn when you have invalid TOML. For many editors, such as IntelliJ/Pycharm, you must first install a TOML plugin. </p>
<p>Pants will also provide a useful error message if it fails to parse the TOML file.</p>

            <!-- main content end -->

            <div class="generated">
              Generated by <a href="docs.html">publish_docs</a>
              from dist/markdown/html/src/docs/options.html 2020-04-13T21:29:51.362127
            </div>

          </div> <!-- mainflow -->

        </div> <!-- content -->

      </div>

      <div class="col-md-1">
      </div>

    </div> <!-- row -->
  </div> <!-- container-fluid -->

</div> <!-- page -->

<script src="https://code.jquery.com/jquery-2.2.3.min.js" integrity="sha384-I6F5OKECLVtK/BL+8iSLDEHowSAfUo76ZL9+kGAgTRdiByINKJaqTPH/QVNS1VDb" crossorigin="anonymous"></script>
<script src="bootstrap-custom.min.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-78111411-1', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
