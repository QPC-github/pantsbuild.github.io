<!DOCTYPE html>
<html lang="en">

<!--
  Copyright 2014 Pants project contributors (see CONTRIBUTORS.md).
  Licensed under the Apache License, Version 2.0 (see LICENSE).
-->

<head>
  <meta charset="utf-8" />
  <title>Using Pants with Thrift Dependencies</title>
  <link rel="stylesheet" href="s.css">
  <script src="s.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="logo.ico">
  <!-- In case this is a "test publish", tell search engines where real version lives: -->
  <link rel="canonical" href="https://pantsbuild.github.io/ThriftDeps.html">
</head>

<body>

<div id="navtoggler">
&#x25c4; <!-- triangle -->
</div>
<div class="mainflow">
<nav class="breadcrumbs">
<ul>
<li><a href="index.html">Pants Build</a>
<li><a href="ThriftDeps.html">Using Pants with Thrift Dependencies</a>
</ul>
</nav>

<nav class="pagetoc">
<ul>
<li class="toc-h1"><a href="#generating-code">Generating Code</a></li>
<li class="toc-h2"><a href="#target-example">Target Example</a></li>
<li class="toc-h2"><a href="#configuring">Configuring</a></li>
<li class="toc-h1"><a href="#thrift-example">Thrift Example</a></li>
<li class="toc-h2"><a href="#thrift-idl">Thrift IDL</a></li>
<li class="toc-h2"><a href="#build-targets">BUILD Targets</a></li>
<li class="toc-h2"><a href="#using-in-regular-code">Using in &quot;Regular&quot; Code</a></li>
<li class="toc-h1"><a href="#publishing">Publishing</a></li>
</ul>
</nav>

<!-- main content start -->
<!-- generated by pants! -->
<style>
.codehilite .hll { background-color: #ffffcc }
.codehilite  { background: #f0f0f0; }
.codehilite .c { color: #60a0b0; font-style: italic } /* Comment */
.codehilite .err { border: 1px solid #FF0000 } /* Error */
.codehilite .k { color: #007020; font-weight: bold } /* Keyword */
.codehilite .o { color: #666666 } /* Operator */
.codehilite .cm { color: #60a0b0; font-style: italic } /* Comment.Multiline */
.codehilite .cp { color: #007020 } /* Comment.Preproc */
.codehilite .c1 { color: #60a0b0; font-style: italic } /* Comment.Single */
.codehilite .cs { color: #60a0b0; background-color: #fff0f0 } /* Comment.Special */
.codehilite .gd { color: #A00000 } /* Generic.Deleted */
.codehilite .ge { font-style: italic } /* Generic.Emph */
.codehilite .gr { color: #FF0000 } /* Generic.Error */
.codehilite .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.codehilite .gi { color: #00A000 } /* Generic.Inserted */
.codehilite .go { color: #808080 } /* Generic.Output */
.codehilite .gp { color: #c65d09; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.codehilite .gt { color: #0040D0 } /* Generic.Traceback */
.codehilite .kc { color: #007020; font-weight: bold } /* Keyword.Constant */
.codehilite .kd { color: #007020; font-weight: bold } /* Keyword.Declaration */
.codehilite .kn { color: #007020; font-weight: bold } /* Keyword.Namespace */
.codehilite .kp { color: #007020 } /* Keyword.Pseudo */
.codehilite .kr { color: #007020; font-weight: bold } /* Keyword.Reserved */
.codehilite .kt { color: #902000 } /* Keyword.Type */
.codehilite .m { color: #40a070 } /* Literal.Number */
.codehilite .s { color: #4070a0 } /* Literal.String */
.codehilite .na { color: #4070a0 } /* Name.Attribute */
.codehilite .nb { color: #007020 } /* Name.Builtin */
.codehilite .nc { color: #0e84b5; font-weight: bold } /* Name.Class */
.codehilite .no { color: #60add5 } /* Name.Constant */
.codehilite .nd { color: #555555; font-weight: bold } /* Name.Decorator */
.codehilite .ni { color: #d55537; font-weight: bold } /* Name.Entity */
.codehilite .ne { color: #007020 } /* Name.Exception */
.codehilite .nf { color: #06287e } /* Name.Function */
.codehilite .nl { color: #002070; font-weight: bold } /* Name.Label */
.codehilite .nn { color: #0e84b5; font-weight: bold } /* Name.Namespace */
.codehilite .nt { color: #062873; font-weight: bold } /* Name.Tag */
.codehilite .nv { color: #bb60d5 } /* Name.Variable */
.codehilite .ow { color: #007020; font-weight: bold } /* Operator.Word */
.codehilite .w { color: #bbbbbb } /* Text.Whitespace */
.codehilite .mf { color: #40a070 } /* Literal.Number.Float */
.codehilite .mh { color: #40a070 } /* Literal.Number.Hex */
.codehilite .mi { color: #40a070 } /* Literal.Number.Integer */
.codehilite .mo { color: #40a070 } /* Literal.Number.Oct */
.codehilite .sb { color: #4070a0 } /* Literal.String.Backtick */
.codehilite .sc { color: #4070a0 } /* Literal.String.Char */
.codehilite .sd { color: #4070a0; font-style: italic } /* Literal.String.Doc */
.codehilite .s2 { color: #4070a0 } /* Literal.String.Double */
.codehilite .se { color: #4070a0; font-weight: bold } /* Literal.String.Escape */
.codehilite .sh { color: #4070a0 } /* Literal.String.Heredoc */
.codehilite .si { color: #70a0d0; font-style: italic } /* Literal.String.Interpol */
.codehilite .sx { color: #c65d09 } /* Literal.String.Other */
.codehilite .sr { color: #235388 } /* Literal.String.Regex */
.codehilite .s1 { color: #4070a0 } /* Literal.String.Single */
.codehilite .ss { color: #517918 } /* Literal.String.Symbol */
.codehilite .bp { color: #007020 } /* Name.Builtin.Pseudo */
.codehilite .vc { color: #bb60d5 } /* Name.Variable.Class */
.codehilite .vg { color: #bb60d5 } /* Name.Variable.Global */
.codehilite .vi { color: #bb60d5 } /* Name.Variable.Instance */
.codehilite .il { color: #40a070 } /* Literal.Number.Integer.Long */
</style>

<table class="h-plus-pilcrow">
<tbody>
<tr>
<td class="h-plus-pilcrow-holder"><h1 id="using-pants-with-thrift-dependencies">Using Pants with Thrift Dependencies</h1></td>
<td><div class="pilcrow-div">
<a class="pilcrow-link" href="#using-pants-with-thrift-dependencies">¶</a>
</div></td>
</tr>
</tbody>
</table>

<p><a href="http://thrift.apache.org/">Apache Thrift</a> is a popular framework for
working with data types and service interfaces. It uses an Interface
Definition Language (IDL) to define these types and interfaces. There
are tools to generate code in "real" programming languages from Thrift
IDL files. Two programs, perhaps in different programming languages,
should be able to communicate over Thrift interfaces by using this
generated code.</p>
<p>Pants knows Thrift. For each Thrift file you use, your codebase has some
<code>BUILD</code> targets that represent "real" code generated from IDL code. You
can write code in your favorite language that imports the generated
code. To make the import work, your code's <code>BUILD</code> target depends on the
appropriate Thrift <code>BUILD</code> target.</p>

<table class="h-plus-pilcrow">
<tbody>
<tr>
<td class="h-plus-pilcrow-holder"><h2 id="generating-code">Generating Code</h2></td>
<td><div class="pilcrow-div">
<a class="pilcrow-link" href="#generating-code">¶</a>
</div></td>
</tr>
</tbody>
</table>

<p>You have some Thrift; you want to use it from your "regular" programming
language. Normally, to make, e.g., Java code usable, you set up a
<code>java_library</code> target with sources <code>*.java</code> and then depend on that
target; Thrift works similarly, but you use a different target type that
generates Java code from <code>*.thrift</code>. You can define Java, Python, or
Scala library targets whose code is Thrift-generated by setting up
<em>lang</em>_thrift_library targets. (Scala is tricky; you use a
<code>java_thrift_library</code> with carefully-chosen parameters.) Other targets
can depend on a <em>lang</em>_thrift_library and their code can then import
the generated code.</p>

<table class="h-plus-pilcrow">
<tbody>
<tr>
<td class="h-plus-pilcrow-holder"><h3 id="target-example">Target Example</h3></td>
<td><div class="pilcrow-div">
<a class="pilcrow-link" href="#target-example">¶</a>
</div></td>
</tr>
</tbody>
</table>

<p>This example sets up a <code>java_thrift_library</code> target; its source is
Thrift; it generates Java.</p>
<div class="codehilite"><pre><span class="c"># Target defined in src/thrift/com/twitter/mybird/BUILD:</span>
<span class="n">java_thrift_library</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'mybird'</span><span class="p">,</span>
  <span class="c"># Specify dependencies for thrift IDL file includes.</span>
  <span class="n">dependencies</span><span class="o">=</span><span class="p">[</span>
    <span class="s">'src/thrift/com/twitter/otherbird'</span><span class="p">,</span>
  <span class="p">],</span>
  <span class="n">sources</span><span class="o">=</span><span class="n">globs</span><span class="p">(</span><span class="s">'*.thrift'</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
<p>Pants knows that before it compiles such a target, it must first
generate Java code from the Thrift IDL files. Users can depend on this
target like any other internal target. In this case, users would add a
dependency on <code>'src/thrift/com/twitter/mybird'</code>.</p>
<p>One <em>lang</em>_thrift_library can depend on another; use this if one of
your Thrift files <code>include</code>s a Thrift file that lives in another target.</p>

<table class="h-plus-pilcrow">
<tbody>
<tr>
<td class="h-plus-pilcrow-holder"><h3 id="configuring">Configuring</h3></td>
<td><div class="pilcrow-div">
<a class="pilcrow-link" href="#configuring">¶</a>
</div></td>
</tr>
</tbody>
</table>

<p>Here are some popular <code>*_thrift_library</code> configurations:</p>
<p><strong>Java</strong></p>
<p>Use Apache Thrift compiler (the default):</p>
<div class="codehilite"><pre><span class="n">java_thrift_library</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
<p>...or Scrooge:</p>
<div class="codehilite"><pre><span class="n">java_thrift_library</span><span class="p">(</span>
  <span class="n">compiler</span><span class="o">=</span><span class="s">'scrooge'</span><span class="p">)</span>
</pre></div>
<p><strong>Python</strong></p>
<div class="codehilite"><pre><span class="n">python_thrift_library</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
<p><strong>Scala</strong></p>
<div class="codehilite"><pre><span class="n">java_thrift_library</span><span class="p">(</span>  <span class="c"># Yes, a "java" library to generate Scala</span>
  <span class="n">compiler</span><span class="o">=</span><span class="s">'scrooge'</span><span class="p">,</span> <span class="c"># default compiler does not gen Scala; Scrooge does</span>
  <span class="n">language</span><span class="o">=</span><span class="s">'scala'</span><span class="p">,</span>
  <span class="c"># maybe set an rpc_style</span>
<span class="p">)</span>
</pre></div>
<p><strong>Android</strong></p>
<p>Scrooge compiler can now generate java code with a limited number of getters and
setters which is more suitable for Android applications which have a 65K limit on the
number of methods.</p>
<div class="codehilite"><pre><span class="n">java_thrift_library</span><span class="p">(</span>  <span class="c"># Yes, a "java" library to generate Scala</span>
  <span class="n">compiler</span><span class="o">=</span><span class="s">'scrooge'</span><span class="p">,</span> <span class="c"># default compiler does not gen android; Scrooge does</span>
  <span class="n">language</span><span class="o">=</span><span class="s">'android'</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>

<table class="h-plus-pilcrow">
<tbody>
<tr>
<td class="h-plus-pilcrow-holder"><h2 id="thrift-example">Thrift Example</h2></td>
<td><div class="pilcrow-div">
<a class="pilcrow-link" href="#thrift-example">¶</a>
</div></td>
</tr>
</tbody>
</table>

<p>Let's look at some sample code that puts all of this together.</p>
<ul>
<li>Thrift IDL code (<code>.thrift</code> files)</li>
<li><code>BUILD</code> targets for the Thrift IDL code</li>
<li>Java code that <code>import</code>s code generated from Thrift</li>
<li><code>BUILD</code> target dependencies that allow that <code>import</code></li>
</ul>

<table class="h-plus-pilcrow">
<tbody>
<tr>
<td class="h-plus-pilcrow-holder"><h3 id="thrift-idl">Thrift IDL</h3></td>
<td><div class="pilcrow-div">
<a class="pilcrow-link" href="#thrift-idl">¶</a>
</div></td>
</tr>
</tbody>
</table>

<p>Our example uses two Thrift files, one of which <code>include</code>s the other. They look pretty ordinary.
The <code>include</code>d Thrift, <code>examples/src/thrift/org/pantsbuild/example/distance/distance.thrift</code>, is
regular Thrift:</p>
<p>
<div class="md-included-snippet"><div class="codehilite"><pre>// Copyright 2014 Pants project contributors (see CONTRIBUTORS.md).
// Licensed under the Apache License, Version 2.0 (see LICENSE).

namespace java org.pantsbuild.example.distance.thriftjava
namespace py org.pantsbuild.example.distance

/*<em>
 * Structure for expressing distance measures: 8mm, 12 parsecs, etc.
 * Not so useful on its own.
 </em>/
struct Distance {
  1: optional string Unit;
  2: required i64 Number;
}
</pre></div></div>
</p>
<p>The <code>include</code>ing Thrift,
<code>examples/src/thrift/org/pantsbuild/example/precipitation/precipitation.thrift</code>,
also looks ordinary. (The include path is a little tricky: it's based on source roots.
Thus, if your source tree has more than one root <code>foo</code> and <code>bar</code> and has Thrift in both,
code in foo can <code>include</code> code from <code>bar</code> without mentioning <code>bar</code> in the include path.):</p>
<p>
<div class="md-included-snippet"><div class="codehilite"><pre>// Copyright 2014 Pants project contributors (see CONTRIBUTORS.md).
// Licensed under the Apache License, Version 2.0 (see LICENSE).

namespace java org.pantsbuild.example.precipitation.thriftjava
namespace py org.pantsbuild.example.precipitation

include "org/pantsbuild/example/distance/distance.thrift"

/*<em>
 * Structure for recording weather events, e.g., 8mm of rain.
 </em>/
struct Precipitation {
  1: optional string substance = "rain";
  2: optional distance.Distance distance;
}
</pre></div></div>
</p>

<table class="h-plus-pilcrow">
<tbody>
<tr>
<td class="h-plus-pilcrow-holder"><h3 id="build-targets">BUILD Targets</h3></td>
<td><div class="pilcrow-div">
<a class="pilcrow-link" href="#build-targets">¶</a>
</div></td>
</tr>
</tbody>
</table>

<p>In a <code>BUILD</code> file, we use a <code>java_thrift_library</code> or
<code>python_thrift_library</code> to generate "real" code from Thrift. Our example
just uses Java; thus, the <code>BUILD</code> file for <code>distance.thrift</code> looks like</p>
<p>
<div class="md-included-snippet"><div class="codehilite"><pre><span class="n">java_thrift_library</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'distance-java'</span><span class="p">,</span>
  <span class="n">sources</span><span class="o">=</span><span class="p">[</span><span class="s">'distance.thrift'</span><span class="p">],</span>
  <span class="n">provides</span> <span class="o">=</span> <span class="n">artifact</span><span class="p">(</span><span class="n">org</span><span class="o">=</span><span class="s">'org.pantsbuild.example'</span><span class="p">,</span>
                      <span class="n">name</span><span class="o">=</span><span class="s">'distance-thrift-scala'</span><span class="p">,</span>
                      <span class="n">repo</span><span class="o">=</span><span class="n">public</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">python_thrift_library</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'distance-python'</span><span class="p">,</span>
  <span class="n">sources</span><span class="o">=</span><span class="p">[</span><span class="s">'distance.thrift'</span><span class="p">],</span>
<span class="p">)</span>
</pre></div></div>
</p>
<p>Notice the target type is
<a href="build_dictionary.html#bdict_java_thrift_library" pantsref="bdict_java_thrift_library">java_thrift_library</a>,
and this target staked its claim to our distance thrift IDL file.
JVM library targets
(e.g.:
<a href="build_dictionary.html#bdict_java_library" pantsref="bdict_java_library"><code>java_library</code></a>,
<a href="build_dictionary.html#bdict_scala_library" pantsref="bdict_scala_library"><code>scala_library</code></a>) that depend on this
target will simply see generated code from the IDL. Since no additional
options are specified we use the defaults; however, if we need more
control over how code is generated we control that through arguments
provided by
<a href="build_dictionary.html#bdict_java_thrift_library" pantsref="bdict_java_thrift_library">java_thrift_library</a>.</p>
<blockquote>
<p><strong>note</strong></p>
<p>While the name <code>java_thrift_library</code> might make you think it generates
Java, it can also generate other target languages via the <code>language</code>
parameter (scala for example). For Python code, however, use
<a href="build_dictionary.html#bdict_python_thrift_library" pantsref="bdict_python_thrift_library">python_thrift_library</a>.</p>
</blockquote>
<p>As with "regular" languages, for one target's code to include another's,
a target should have the other in its <code>dependencies</code>. Thus, to allow
<code>precipitation.thrift</code> to depend on <code>distance.thrift</code>, we set up
<code>.../precipitation/BUILD</code> like so:</p>
<p>
<div class="md-included-snippet"><div class="codehilite"><pre><span class="n">java_thrift_library</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'precipitation-java'</span><span class="p">,</span>
  <span class="n">sources</span><span class="o">=</span><span class="p">[</span><span class="s">'precipitation.thrift'</span><span class="p">],</span>
  <span class="n">dependencies</span><span class="o">=</span><span class="p">[</span>
    <span class="s">'examples/src/thrift/org/pantsbuild/example/distance:distance-java'</span><span class="p">,</span>
  <span class="p">],</span>
  <span class="n">provides</span> <span class="o">=</span> <span class="n">artifact</span><span class="p">(</span><span class="n">org</span><span class="o">=</span><span class="s">'org.pantsbuild.example'</span><span class="p">,</span>
                      <span class="n">name</span><span class="o">=</span><span class="s">'precipitation-thrift-java'</span><span class="p">,</span>
                      <span class="n">repo</span><span class="o">=</span><span class="n">public</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">python_thrift_library</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'precipitation-python'</span><span class="p">,</span>
  <span class="n">sources</span><span class="o">=</span><span class="p">[</span><span class="s">'precipitation.thrift'</span><span class="p">],</span>
  <span class="n">dependencies</span><span class="o">=</span><span class="p">[</span>
    <span class="s">'examples/src/thrift/org/pantsbuild/example/distance:distance-python'</span><span class="p">,</span>
  <span class="p">],</span>
<span class="p">)</span>
</pre></div></div>
</p>

<table class="h-plus-pilcrow">
<tbody>
<tr>
<td class="h-plus-pilcrow-holder"><h3 id="using-in-regular-code">Using in "Regular" Code</h3></td>
<td><div class="pilcrow-div">
<a class="pilcrow-link" href="#using-in-regular-code">¶</a>
</div></td>
</tr>
</tbody>
</table>

<p>We want to use the Thrift-generated interface from "regular" code. In
this Java example, we want to <code>import</code> the generated code. In our Java,
the <code>import</code> statements use the names from the <code>.thrift</code> files'
<code>namespace</code>s:</p>
<p>
<div class="md-included-snippet"><div class="codehilite"><pre><span class="kn">package</span> <span class="n">org</span><span class="o">.</span><span class="na">pantsbuild</span><span class="o">.</span><span class="na">example</span><span class="o">.</span><span class="na">usethrift</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.junit.Test</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.pantsbuild.example.distance.thriftjava.Distance</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.pantsbuild.example.precipitation.thriftjava.Precipitation</span><span class="o">;</span>

<span class="cm">/<em> Not testing behavior; we're happy if this compiles. </em>/</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UseThriftTest</span> <span class="o">{</span>
  <span class="nd">@Test</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">makeItRain</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">Distance</span> <span class="n">notMuch</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Distance</span><span class="o">().</span><span class="na">setNumber</span><span class="o">(</span><span class="mi">8</span><span class="o">).</span><span class="na">setUnit</span><span class="o">(</span><span class="s">"mm"</span><span class="o">);</span>
    <span class="n">Precipitation</span> <span class="n">sprinkle</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Precipitation</span><span class="o">().</span><span class="na">setDistance</span><span class="o">(</span><span class="n">notMuch</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div></div>
</p>
<p>As usual, for code in one target to use code from another, one target
needs to depend on the other. Thus, our Java code's target has the
<code>*_thrift_library</code> target whose code it uses in its dependencies:</p>
<p>
<div class="md-included-snippet"><div class="codehilite"><pre><span class="n">junit_tests</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'usethrift'</span><span class="p">,</span>
  <span class="n">sources</span><span class="o">=</span><span class="p">[</span><span class="s">'UseThriftTest.java'</span><span class="p">,],</span>
  <span class="n">dependencies</span><span class="o">=</span><span class="p">[</span>
    <span class="s">'3rdparty:junit'</span><span class="p">,</span>
    <span class="s">'examples/src/thrift/org/pantsbuild/example/distance:distance-java'</span><span class="p">,</span>
    <span class="s">'examples/src/thrift/org/pantsbuild/example/precipitation:precipitation-java'</span><span class="p">,</span>
  <span class="p">],</span>
<span class="p">)</span>
</pre></div></div>
</p>

<table class="h-plus-pilcrow">
<tbody>
<tr>
<td class="h-plus-pilcrow-holder"><h2 id="publishing">Publishing</h2></td>
<td><div class="pilcrow-div">
<a class="pilcrow-link" href="#publishing">¶</a>
</div></td>
</tr>
</tbody>
</table>

<p>Publishing a <em>lang</em>_thrift_library is like
<a href="publish.html">publishing a "regular" library</a>
The targets use <code>provides</code>
parameters. It might look something like:</p>
<div class="codehilite"><pre><span class="n">java_thrift_library</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'eureka-java'</span><span class="p">,</span>
  <span class="n">sources</span><span class="o">=</span><span class="p">[</span><span class="s">'eureka.thrift'</span><span class="p">],</span>
  <span class="n">dependencies</span><span class="o">=</span><span class="p">[</span>
    <span class="s">'src/thrift/org/archimedes/volume:volume-java'</span><span class="p">,</span>
  <span class="p">],</span>
  <span class="n">language</span><span class="o">=</span><span class="s">'java'</span><span class="p">,</span>
  <span class="n">provides</span><span class="o">=</span><span class="n">artifact</span><span class="p">(</span>
    <span class="n">org</span><span class="o">=</span><span class="s">'org.archimedes'</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s">'eureka-java'</span><span class="p">,</span>
    <span class="n">repo</span><span class="o">=</span><span class="s">'BUILD.archimedes:jar-public'</span><span class="p">,</span>
<span class="p">))</span>

<span class="n">java_thrift_library</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'eureka-scala'</span><span class="p">,</span>
  <span class="n">sources</span><span class="o">=</span><span class="p">[</span><span class="s">'eureka.thrift'</span><span class="p">],</span>
  <span class="n">dependencies</span><span class="o">=</span><span class="p">[</span>
    <span class="s">'src/thrift/org/archimedes/volume:volume-scala'</span><span class="p">,</span>
  <span class="p">],</span>
  <span class="n">compiler</span><span class="o">=</span><span class="s">'scrooge'</span><span class="p">,</span>
  <span class="n">language</span><span class="o">=</span><span class="s">'scala'</span><span class="p">,</span>
  <span class="n">provides</span><span class="o">=</span><span class="n">artifact</span><span class="p">(</span>
    <span class="n">org</span><span class="o">=</span><span class="s">'org.archimedes'</span><span class="p">,</span>
    <span class="n">name</span><span class="o">=</span><span class="s">'eureka-scala'</span><span class="p">,</span>
    <span class="n">repo</span><span class="o">=</span><span class="s">'BUILD.archimedes:jar-public'</span><span class="p">,</span>
  <span class="p">))</span>
</pre></div>

<!-- main content end -->

<div class="generated">
Generated by <a href="http://pantsbuild.github.io/docs.html">publish_docs</a>
from dist/markdown/html/examples/src/thrift/org/pantsbuild/example/readme.html 2016-04-29T13:36:16.000572
</div>

</div> <!-- end of mainflow -->

<nav class="bignav">
  <div class="bignav-logo">
    <a href="index.html">
      <img src="logo.ico" alt="[pantsbuild logo]">
    </a>
  </div>
  <form class="search" action="https://www.google.com/search">
  <input name="as_q" class="query" placeholder="Search">
  <input name="as_sitesearch" value="pantsbuild.github.io" type="hidden">
  </form>

<div class="site-toc">
<ul>
<li class="toc-h1 ">
<a href="first_concepts.html">Pants Conceptual Overview</a>
</li>
<li class="toc-h1 ">
<a href="install.html">Installing Pants</a>
</li>
<li class="toc-h1 ">
<a href="first_tutorial.html">First Tutorial</a>
</li>
<li class="toc-h1 ">
<a href="target_addresses.html">Target Addresses</a>
</li>
<li class="toc-h1 ">
<a href="JVMProjects.html">JVM Projects with Pants</a>
</li>
<li class="toc-h2 ">
<a href="3rdparty_jvm.html">JVM 3rdparty Pattern</a>
</li>
<li class="toc-h2 ">
<a href="scala.html">Scala Projects with Pants</a>
</li>
<li class="toc-h2 ">
<a href="from_maven.html">Pants for Maven Experts</a>
</li>
<li class="toc-h1 ">
<a href="python-readme.html">Python Projects with Pants</a>
</li>
<li class="toc-h2 ">
<a href="3rdparty_py.html">Python 3rdparty Pattern</a>
</li>
<li class="toc-h2 ">
<a href="pex_design.html">PEX Design</a>
</li>
<li class="toc-h1 ">
<a href="page.html">README Files and Markdown</a>
</li>
<li class="toc-h1 ">
<a href="build_files.html">BUILD files</a>
</li>
<li class="toc-h1 ">
<a href="invoking.html">Invoking Pants Build</a>
</li>
<li class="toc-h1 ">
<a href="tshoot.html">Troubleshooting</a>
</li>
<li class="toc-h1 ">
<a href="3rdparty.html">Third-Party Dependencies</a>
</li>
<li class="toc-h2 ">
<a href="3rdparty_jvm.html">JVM 3rdparty Pattern</a>
</li>
<li class="toc-h2 ">
<a href="3rdparty_py.html">Python 3rdparty Pattern</a>
</li>
<li class="toc-h1 toc-here">
Using Pants with Thrift Dependencies
</li>
<li class="toc-h1 ">
<a href="publish.html">Publishing Artifacts</a>
</li>
<li class="toc-h1 ">
<a href="with_emacs.html">Emacs With Pants</a>
</li>
<li class="toc-h1 ">
<a href="with_intellij.html">Using Pants with IntelliJ IDEA</a>
</li>
<li class="toc-h1 ">
<a href="setup_repo.html">Set up Your Source Tree for Pants</a>
</li>
<li class="toc-h1 ">
<a href="build_dictionary.html">Pants BUILD Dictionary</a>
</li>
<li class="toc-h1 ">
<a href="options_reference.html">Pants Reference</a>
</li>
<li class="toc-h1 ">
<a href="changelog.html">RELEASE HISTORY</a>
</li>
<li class="toc-h1 ">
<a href="export.html">Export Format</a>
</li>
<li class="toc-h1 ">
<a href="dev.html">Pants Developer Center</a>
</li>
<li class="toc-h2 ">
<a href="howto_contribute.html">Pants Contributors Guide</a>
</li>
<li class="toc-h2 ">
<a href="howto_ask.html">How To Ask</a>
</li>
<li class="toc-h2 ">
<a href="howto_develop.html">Pants Developers Guide</a>
</li>
<li class="toc-h2 ">
<a href="dev_tasks.html">Task Developer's Guide</a>
</li>
<li class="toc-h3 ">
<a href="dev_tasks_publish_extras.html">Develop a Task to Publish &quot;Extra&quot; Artifacts</a>
</li>
<li class="toc-h2 ">
<a href="styleguide.html">Pants Style Guide</a>
</li>
<li class="toc-h2 ">
<a href="howto_plugin.html">Developing a Pants Plugin</a>
</li>
<li class="toc-h2 ">
<a href="intellij.html">Pants Development with IntelliJ IDEA</a>
</li>
<li class="toc-h2 ">
<a href="internals.html">Pants Internals</a>
</li>
<li class="toc-h2 ">
<a href="deprecation_policy.html">Pants Deprecation Policy</a>
</li>
<li class="toc-h2 ">
<a href="release.html">Release Process</a>
</li>
<li class="toc-h3 ">
<a href="release_jvm.html">JVM Artifact Release Process</a>
</li>
<li class="toc-h3 ">
<a href="branching_strategy.html">Branching Strategy</a>
</li>
<li class="toc-h3 ">
<a href="deprecation_policy.html">Pants Deprecation Policy</a>
</li>
<li class="toc-h2 ">
<a href="docs.html">About the documentation</a>
</li>
<li class="toc-h2 ">
<a href="credits.html">Credits</a>
</li>
</ul>
</div>
</nav>

<div class="ci-status">
<a href="https://travis-ci.org/pantsbuild/pants">
<img src="https://travis-ci.org/pantsbuild/pants.png?branch=master"
     alt="Are the tests passing?" title="Are the tests passing?"></a><br>
<a href="https://coveralls.io/r/pantsbuild/pants?branch=master">
<img src="https://coveralls.io/repos/pantsbuild/pants/badge.png?branch=master"
     alt="Test Coverage Status" title="Test Coverage Status"></a>
</div>

</body>
</html>
