<!DOCTYPE html>
<html lang="en">

<!--
  Copyright 2014 Pants project contributors (see CONTRIBUTORS.md).
  Licensed under the Apache License, Version 2.0 (see LICENSE).
-->

<head>
  <meta charset="utf-8"/>
  <title>Branching Strategy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="pants-logo.ico">
  <!-- In case this is a "test publish", tell search engines where real version lives: -->
  <link rel="canonical" href="http://pantsbuild.org/branching_strategy.html">

  <link rel="stylesheet" href="bootstrap-custom.min.css">
  <link rel="stylesheet" href="bootstrap-custom-theme.min.css">
  <link rel="stylesheet" href="docsite.css">
</head>

<body>

<div class="header">
  <nav class="navbar navbar-default navbar-static-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand navbar-brand-img" href="index.html">
          <img src="pants-logo.ico" alt="[pantsbuild logo]">
        </a>
        <a class="navbar-brand" href="index.html">
          Pants v1
        </a>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="/">Docs</a></li>
          <li><a href="community.html">Community</a></li>
          <li><a href="https://www.github.com/pantsbuild/pants">GitHub</a></li>
          <li>
            <form class="navbar-form navbar-left search" role="search" action="https://www.google.com/search">
              <div class="form-group">
                <input type="text" name="as_q" class="form-control query" placeholder="Search">
                <input name="as_sitesearch" value="pantsbuild.org" type="hidden">
              </div>
            </form>
          </li>
        </ul>
      </div><!--/.nav-collapse -->
    </div>
    <div class="deprecated">Pants v1 is no longer maintained. See <a href="https://www.pantsbuild.org/">here</a> for the Pants v2 documentation.</div>
  </nav>
</div>

<div class="page">

  <div class="container-fluid">
    <div class="row">

      <div class="col-md-1">
      </div>

      <div class="col-md-2">
        <div class="site-toc">
          <ul>
                <li class="toc-h1 toc-heading">
                  Getting Started
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="install.html">Installing Pants</a>
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="setup_repo.html">Setting Up Pants</a>
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="first_tutorial.html">Tutorial</a>
                </li>
                <li class="toc-h1 toc-heading">
                  Pants Basics
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="why_use_pants.html">Why Use Pants?</a>
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="first_concepts.html">Pants Concepts</a>
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="build_files.html">BUILD files</a>
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="target_addresses.html">Target Addresses</a>
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="3rdparty.html">Third-Party Dependencies</a>
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="options.html">Pants Options</a>
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="invoking.html">Invoking Pants</a>
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="reporting_server.html">Reporting Server</a>
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="ide_support.html">IDE Support</a>
                </li>
                <li class="toc-h1 toc-heading">
                  JVM
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="jvm_projects.html">JVM Projects with Pants</a>
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="3rdparty_jvm.html">JVM 3rdparty Pattern</a>
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="scala.html">Scala Support</a>
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="publish.html">Publishing Artifacts</a>
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="from_maven.html">Pants for Maven Experts</a>
                </li>
                <li class="toc-h1 toc-heading">
                  Python
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="python_readme.html">Python Projects with Pants</a>
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="3rdparty_py.html">Python 3rdparty Pattern</a>
                </li>
                <li class="toc-h1 toc-heading">
                  Codegen
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="thrift_deps.html">Thrift</a>
                </li>
                <li class="toc-h1 toc-heading">
                  Docgen
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="page.html">Markdown</a>
                </li>
                <li class="toc-h1 toc-heading">
                  Getting Help
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="tshoot.html">Troubleshooting</a>
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="community.html">Community</a>
                </li>
                <li class="toc-h1 toc-heading">
                  Reference
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="build_dictionary.html">Pants BUILD Dictionary</a>
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="options_reference.html">Pants Reference</a>
                </li>
                <li class="toc-h1 toc-heading">
                  Developer
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="dev.html">Pants Developer Center</a>
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="changelog.html">Release History</a>
                </li>
                <li class="toc-h1 toc-link ">
                  <a href="export.html">Export Format</a>
                </li>
          </ul>
        </div> <!-- site-toc -->
      </div>

      <div class="col-md-8">
        <div class="content">

          <div class="mainflow">
              <nav class="pagetoc">
                <ul>
                    <li class="toc-h1"><a href="#release-managers">Release Managers</a></li>
                    <li class="toc-h1"><a href="#release-cadence">Release Cadence</a></li>
                    <li class="toc-h1"><a href="#release-types">Release Types</a></li>
                    <li class="toc-h2"><a href="#pre-releases">Pre releases</a></li>
                    <li class="toc-h2"><a href="#stable-releases">Stable releases</a></li>
                    <li class="toc-h3"><a href="#major-and-minor-stable-releases">Major and Minor Stable releases</a></li>
                    <li class="toc-h3"><a href="#patch-stable-releases">Patch Stable Releases</a></li>
                    <li class="toc-h1"><a href="#naming-conventions">Naming conventions</a></li>
                    <li class="toc-h2"><a href="#stable-naming">Stable naming</a></li>
                    <li class="toc-h2"><a href="#pre-naming">Pre naming</a></li>
                    <li class="toc-h1"><a href="#workflow-examples">Workflow Examples</a></li>
                    <li class="toc-h1"><a href="#stable-release-candidates">Stable Release Candidates</a></li>
                </ul>
              </nav>

            <!-- main content start -->
            <!-- generated by pants! -->
<style>
.codehilite .hll { background-color: #ffffcc }
.codehilite  { background: #f0f0f0; }
.codehilite .c { color: #60a0b0; font-style: italic } /* Comment */
.codehilite .err { border: 1px solid #FF0000 } /* Error */
.codehilite .k { color: #007020; font-weight: bold } /* Keyword */
.codehilite .o { color: #666666 } /* Operator */
.codehilite .cm { color: #60a0b0; font-style: italic } /* Comment.Multiline */
.codehilite .cp { color: #007020 } /* Comment.Preproc */
.codehilite .c1 { color: #60a0b0; font-style: italic } /* Comment.Single */
.codehilite .cs { color: #60a0b0; background-color: #fff0f0 } /* Comment.Special */
.codehilite .gd { color: #A00000 } /* Generic.Deleted */
.codehilite .ge { font-style: italic } /* Generic.Emph */
.codehilite .gr { color: #FF0000 } /* Generic.Error */
.codehilite .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.codehilite .gi { color: #00A000 } /* Generic.Inserted */
.codehilite .go { color: #808080 } /* Generic.Output */
.codehilite .gp { color: #c65d09; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.codehilite .gt { color: #0040D0 } /* Generic.Traceback */
.codehilite .kc { color: #007020; font-weight: bold } /* Keyword.Constant */
.codehilite .kd { color: #007020; font-weight: bold } /* Keyword.Declaration */
.codehilite .kn { color: #007020; font-weight: bold } /* Keyword.Namespace */
.codehilite .kp { color: #007020 } /* Keyword.Pseudo */
.codehilite .kr { color: #007020; font-weight: bold } /* Keyword.Reserved */
.codehilite .kt { color: #902000 } /* Keyword.Type */
.codehilite .m { color: #40a070 } /* Literal.Number */
.codehilite .s { color: #4070a0 } /* Literal.String */
.codehilite .na { color: #4070a0 } /* Name.Attribute */
.codehilite .nb { color: #007020 } /* Name.Builtin */
.codehilite .nc { color: #0e84b5; font-weight: bold } /* Name.Class */
.codehilite .no { color: #60add5 } /* Name.Constant */
.codehilite .nd { color: #555555; font-weight: bold } /* Name.Decorator */
.codehilite .ni { color: #d55537; font-weight: bold } /* Name.Entity */
.codehilite .ne { color: #007020 } /* Name.Exception */
.codehilite .nf { color: #06287e } /* Name.Function */
.codehilite .nl { color: #002070; font-weight: bold } /* Name.Label */
.codehilite .nn { color: #0e84b5; font-weight: bold } /* Name.Namespace */
.codehilite .nt { color: #062873; font-weight: bold } /* Name.Tag */
.codehilite .nv { color: #bb60d5 } /* Name.Variable */
.codehilite .ow { color: #007020; font-weight: bold } /* Operator.Word */
.codehilite .w { color: #bbbbbb } /* Text.Whitespace */
.codehilite .mf { color: #40a070 } /* Literal.Number.Float */
.codehilite .mh { color: #40a070 } /* Literal.Number.Hex */
.codehilite .mi { color: #40a070 } /* Literal.Number.Integer */
.codehilite .mo { color: #40a070 } /* Literal.Number.Oct */
.codehilite .sb { color: #4070a0 } /* Literal.String.Backtick */
.codehilite .sc { color: #4070a0 } /* Literal.String.Char */
.codehilite .sd { color: #4070a0; font-style: italic } /* Literal.String.Doc */
.codehilite .s2 { color: #4070a0 } /* Literal.String.Double */
.codehilite .se { color: #4070a0; font-weight: bold } /* Literal.String.Escape */
.codehilite .sh { color: #4070a0 } /* Literal.String.Heredoc */
.codehilite .si { color: #70a0d0; font-style: italic } /* Literal.String.Interpol */
.codehilite .sx { color: #c65d09 } /* Literal.String.Other */
.codehilite .sr { color: #235388 } /* Literal.String.Regex */
.codehilite .s1 { color: #4070a0 } /* Literal.String.Single */
.codehilite .ss { color: #517918 } /* Literal.String.Symbol */
.codehilite .bp { color: #007020 } /* Name.Builtin.Pseudo */
.codehilite .vc { color: #bb60d5 } /* Name.Variable.Class */
.codehilite .vg { color: #bb60d5 } /* Name.Variable.Global */
.codehilite .vi { color: #bb60d5 } /* Name.Variable.Instance */
.codehilite .il { color: #40a070 } /* Literal.Number.Integer.Long */
</style>
<h1 id="branching-strategy">Branching Strategy</h1>
<h2 id="release-managers">Release Managers</h2>
<p>A release manager is responsible for:</p>
<ul>
<li>Creating stable branches</li>
<li>Creating and gathering feedback on release candidates</li>
<li>Cutting "pre" releases</li>
</ul>
<p>These responsibilities are described below.</p>
<h2 id="release-cadence">Release Cadence</h2>
<p>At least one release begins every week, based on a weekly release manager rotation maintained
in a shared calendar (to volunteer to be added to the calendar,
see <a href="howto_contribute.html">How to Contribute</a>).</p>
<p>The release manager decides whether to cut "stable" or
"pre" releases (or both!) based on the following criteria:</p>
<ol>
<li>If it is an "even" week, decide whether to cut a <em>new</em> stable release branch:<ul>
<li>To determine whether to create a new stable branch (and release candidate), the release manager
should inspect changes that have landed in master since the previous stable branch was cut, and
decide whether they justify a new branch (this is intentionally left a bit open-ended). If a new branch
is justified, it will be either a <em>Major</em> or <em>Minor</em> stable branch (described below).</li>
<li>If (for any reason) a new stable branch is <em>not</em> created, either because it is an "odd" week, or
because the release manager decided there was insufficient change in master to justify the stable
vetting process, the release manager must cut a <em>pre</em> release from master.</li>
</ul>
</li>
<li>In addition to any pre or newly-created stable branches, the release manager should determine whether
any existing stable branches need new release candidates by inspecting the
<a href="https://docs.google.com/spreadsheets/d/12rsaVVhmSXrMVlZV6PUu5uzsKNNcceP9Lpf7rpju_IE/edit#gid=0">Pants Backport Proposals</a>
sheet. If there are requests "sufficient" to justify a new <em>patch</em> release for existing stable branches, the
release manager should cut release candidates for those branches.</li>
</ol>
<p>In other words: <em>either</em> a pre release or a new stable release branch is created each
week, and additionally, patch releases for existing stable branches <em>might</em> be created.</p>
<h2 id="release-types">Release Types</h2>
<h3 id="pre-releases"><em>Pre</em> releases</h3>
<p>Pre releases are releases that occur directly from master, without the additional vetting that
is applied to stable releases. They help to ensure a steady release cadence from master by filling
in the gaps between the (generally more time consuming) stable releases.</p>
<h3 id="stable-releases"><em>Stable</em> releases</h3>
<p>Stable release candidates generally happen every two weeks, provided that there are enough user
facing changes to warrant a new stable release. Of those two weeks, five business days are allocated
to bugfixing and testing by pants contributors on a release candidate announcement thread (described
below).</p>
<h4 id="major-and-minor-stable-releases"><em>Major</em> and <em>Minor</em> Stable releases</h4>
<p>The decision to do a major or a minor release is based on the impact of the changes.
Major releases signify large or breaking changes.  Minor releases however should be compatible
with the last two minor releases.  In other words if a feature is deprecated in version <code>1.2.x</code> you
should be able to continue using that feature at least through version <code>1.4.0</code>.</p>
<h4 id="patch-stable-releases"><em>Patch</em> Stable Releases</h4>
<p>In order to allow us to react quickly to bugs, patch fixes are released as needed and should
always consist of fixes backported from master. These releases update the patch version number,
(ie, from <code>1.0.x</code> to <code>1.0.y</code>) and should only include commits from the Pants
Backport Proposals that are deemed to be
<a href="deprecation_policy.html">backwards compatible</a>.</p>
<h2 id="naming-conventions">Naming conventions</h2>
<h3 id="stable-naming"><em>Stable</em> naming</h3>
<p>Leading up to a stable release, development work should be done on a branch in the following format:
<code>n.n.x</code> where n.n are the major/minor version numbers and "<code>x</code>" is a literal character placeholder for
the patch version. Example: "the <code>1.1.x</code> stable branch".</p>
<h3 id="pre-naming"><em>Pre</em> naming</h3>
<p>Pre releases occur between stable releases, and are differentiated by a <code>-preN</code> suffix. The pattern
to follow is <code>N.N.0-preN</code>, where <code>N.N</code> are the <em>next</em> major/minor stable branch that will be created
and N is the next sequential number starting from <code>0</code>. Example: "the <code>1.1.0-pre0</code> pre release".</p>
<h2 id="workflow-examples">Workflow Examples</h2>
<ul>
<li>
<p>Leading up to the release of <code>1.0.0</code> the release manager would create a stable branch with
the literal name "<code>1.0.x</code>". When finalizing the <code>1.0.0</code> release in that <code>1.0.x</code> branch, they would
tag the commit with the release version of <code>v1.0.0</code>.</p>
</li>
<li>
<p>If a release manager had a bugfix from master that they needed to backport to the <code>1.0.x</code> minor
stable branch, they would cherry-pick the commit to the <code>1.0.x</code> branch, run a series
of release candidates, and finally tag the commit with a new patch version (ie <code>v1.0.1</code>) when it was
ready for release.</p>
</li>
<li>
<p>If pre releases were required after having cut the <code>1.0.x</code> stable branch, but before having cut the
<code>1.1.x</code> stable branch, then they would start with <code>1.1.0-pre0</code>, and continue weekly to <code>1.1.0-preN</code>
until the <code>1.1.x</code> stable branch had been cut.</p>
</li>
</ul>
<h2 id="stable-release-candidates">Stable Release Candidates</h2>
<p>In order to make a stable release, the release manager needs to create a release candidate for other
parties to test. Once the release candidate has been created and announced, the release manager
should allow five business days for contributors to raise concerns on the release candidate
announcement thread. During those five days, the release manager should expect to perform multiple
release candidates until no more blockers are raised against a particular release candidate... at
which point, the final version of that release can be cut.</p>

            <!-- main content end -->

            <div class="generated">
              Generated by <a href="http://pantsbuild.org/docs.html">publish_docs</a>
              from dist/markdown/html/src/docs/branching_strategy.html 2016-05-14T11:55:46.792816
            </div>

          </div> <!-- mainflow -->

        </div> <!-- content -->

      </div>

      <div class="col-md-1">
      </div>

    </div> <!-- row -->
  </div> <!-- container-fluid -->

</div> <!-- page -->

<script src="https://code.jquery.com/jquery-2.2.3.min.js" integrity="sha384-I6F5OKECLVtK/BL+8iSLDEHowSAfUo76ZL9+kGAgTRdiByINKJaqTPH/QVNS1VDb" crossorigin="anonymous"></script>
<script src="bootstrap-custom.min.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-39101739-2', 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>
