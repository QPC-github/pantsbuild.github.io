<!DOCTYPE html>
<html lang="en">

<!--
  Copyright 2014 Pants project contributors (see CONTRIBUTORS.md).
  Licensed under the Apache License, Version 2.0 (see LICENSE).
-->

<head>
  <meta charset="utf-8" />
  <title>About the documentation</title>
  <link rel="stylesheet" href="s.css">
  <script src="s.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="logo.ico">
  <!-- In case this is a "test publish", tell search engines where real version lives: -->
  <link rel="canonical" href="https://pantsbuild.github.io/docs.html">
</head>

<body>

<div id="navtoggler">
&#x25c4; <!-- triangle -->
</div>
<div class="mainflow">
<nav class="breadcrumbs">
<ul>
<li><a href="index.html">Pants Build</a>
<li><a href="dev.html">Pants Developer Center</a>
<li><a href="docs.html">About the documentation</a>
</ul>
</nav>

<nav class="pagetoc">
<ul>
<li class="toc-h1"><a href="#docs-in-the-code">Docs in the Code</a></li>
<li class="toc-h2"><a href="#goals-tasks-and-options">Goals, Tasks, and Options</a></li>
<li class="toc-h2"><a href="#targets-and-other-build-file-things">Targets and other BUILD File Things</a></li>
<li class="toc-h1"><a href="#generating-the-site">Generating the site</a></li>
<li class="toc-h1"><a href="#publishing-the-site">Publishing the site</a></li>
<li class="toc-h1"><a href="#cross-references">Cross References</a></li>
<li class="toc-h1"><a href="#doc-site-config">Doc Site Config</a></li>
</ul>
</nav>

<!-- main content start -->
<!-- generated by pants! -->
<style>
.codehilite .hll { background-color: #ffffcc }
.codehilite  { background: #f0f0f0; }
.codehilite .c { color: #60a0b0; font-style: italic } /* Comment */
.codehilite .err { border: 1px solid #FF0000 } /* Error */
.codehilite .k { color: #007020; font-weight: bold } /* Keyword */
.codehilite .o { color: #666666 } /* Operator */
.codehilite .cm { color: #60a0b0; font-style: italic } /* Comment.Multiline */
.codehilite .cp { color: #007020 } /* Comment.Preproc */
.codehilite .c1 { color: #60a0b0; font-style: italic } /* Comment.Single */
.codehilite .cs { color: #60a0b0; background-color: #fff0f0 } /* Comment.Special */
.codehilite .gd { color: #A00000 } /* Generic.Deleted */
.codehilite .ge { font-style: italic } /* Generic.Emph */
.codehilite .gr { color: #FF0000 } /* Generic.Error */
.codehilite .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.codehilite .gi { color: #00A000 } /* Generic.Inserted */
.codehilite .go { color: #808080 } /* Generic.Output */
.codehilite .gp { color: #c65d09; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.codehilite .gt { color: #0040D0 } /* Generic.Traceback */
.codehilite .kc { color: #007020; font-weight: bold } /* Keyword.Constant */
.codehilite .kd { color: #007020; font-weight: bold } /* Keyword.Declaration */
.codehilite .kn { color: #007020; font-weight: bold } /* Keyword.Namespace */
.codehilite .kp { color: #007020 } /* Keyword.Pseudo */
.codehilite .kr { color: #007020; font-weight: bold } /* Keyword.Reserved */
.codehilite .kt { color: #902000 } /* Keyword.Type */
.codehilite .m { color: #40a070 } /* Literal.Number */
.codehilite .s { color: #4070a0 } /* Literal.String */
.codehilite .na { color: #4070a0 } /* Name.Attribute */
.codehilite .nb { color: #007020 } /* Name.Builtin */
.codehilite .nc { color: #0e84b5; font-weight: bold } /* Name.Class */
.codehilite .no { color: #60add5 } /* Name.Constant */
.codehilite .nd { color: #555555; font-weight: bold } /* Name.Decorator */
.codehilite .ni { color: #d55537; font-weight: bold } /* Name.Entity */
.codehilite .ne { color: #007020 } /* Name.Exception */
.codehilite .nf { color: #06287e } /* Name.Function */
.codehilite .nl { color: #002070; font-weight: bold } /* Name.Label */
.codehilite .nn { color: #0e84b5; font-weight: bold } /* Name.Namespace */
.codehilite .nt { color: #062873; font-weight: bold } /* Name.Tag */
.codehilite .nv { color: #bb60d5 } /* Name.Variable */
.codehilite .ow { color: #007020; font-weight: bold } /* Operator.Word */
.codehilite .w { color: #bbbbbb } /* Text.Whitespace */
.codehilite .mf { color: #40a070 } /* Literal.Number.Float */
.codehilite .mh { color: #40a070 } /* Literal.Number.Hex */
.codehilite .mi { color: #40a070 } /* Literal.Number.Integer */
.codehilite .mo { color: #40a070 } /* Literal.Number.Oct */
.codehilite .sb { color: #4070a0 } /* Literal.String.Backtick */
.codehilite .sc { color: #4070a0 } /* Literal.String.Char */
.codehilite .sd { color: #4070a0; font-style: italic } /* Literal.String.Doc */
.codehilite .s2 { color: #4070a0 } /* Literal.String.Double */
.codehilite .se { color: #4070a0; font-weight: bold } /* Literal.String.Escape */
.codehilite .sh { color: #4070a0 } /* Literal.String.Heredoc */
.codehilite .si { color: #70a0d0; font-style: italic } /* Literal.String.Interpol */
.codehilite .sx { color: #c65d09 } /* Literal.String.Other */
.codehilite .sr { color: #235388 } /* Literal.String.Regex */
.codehilite .s1 { color: #4070a0 } /* Literal.String.Single */
.codehilite .ss { color: #517918 } /* Literal.String.Symbol */
.codehilite .bp { color: #007020 } /* Name.Builtin.Pseudo */
.codehilite .vc { color: #bb60d5 } /* Name.Variable.Class */
.codehilite .vg { color: #bb60d5 } /* Name.Variable.Global */
.codehilite .vi { color: #bb60d5 } /* Name.Variable.Instance */
.codehilite .il { color: #40a070 } /* Literal.Number.Integer.Long */
</style>

<table class="h-plus-pilcrow">
<tbody>
<tr>
<td class="h-plus-pilcrow-holder"><h1 id="about-the-documentation">About the documentation</h1></td>
<td><div class="pilcrow-div">
<a class="pilcrow-link" href="#about-the-documentation">¶</a>
</div></td>
</tr>
</tbody>
</table>

<p>Pants' user-facing documentation lives in markdown sources, in docstrings, and in some other
special strings. We keep documentation close to the code it describes. If you change some code
and wonder "should I update the docs?" the documentation that needs updating should be nearby.</p>

<table class="h-plus-pilcrow">
<tbody>
<tr>
<td class="h-plus-pilcrow-holder"><h2 id="docs-in-the-code">Docs in the Code</h2></td>
<td><div class="pilcrow-div">
<a class="pilcrow-link" href="#docs-in-the-code">¶</a>
</div></td>
</tr>
</tbody>
</table>

<p>"Reference" information tends to live in the code. (Information for Pants developers, of course,
lives in docstrings and comments; but some information for Pants <em>users</em> lives in the code, too.)</p>

<table class="h-plus-pilcrow">
<tbody>
<tr>
<td class="h-plus-pilcrow-holder"><h3 id="goals-tasks-and-options">Goals, Tasks, and Options</h3></td>
<td><div class="pilcrow-div">
<a class="pilcrow-link" href="#goals-tasks-and-options">¶</a>
</div></td>
</tr>
</tbody>
</table>

<p>When a user views a goal's options by entering <code>./pants compile -h</code> or browsing the
<a href="options_reference.html#oref_goal_compile" pantsref="oref_goal_compile">Pants Options Reference</a>, they see text that "lives" in the
Pants source code. If you <a href="dev_tasks.html">develop a <code>Task</code></a>, document it:</p>
<p><strong>Goal description:</strong> When registering a <code>Task</code> with a goal, call
<code>with_description('yadda yadda')</code> to set the goal's description to "yadda yadda". More than one
Task can register with a goal; thus another description might "clobber" the one you provide (and
if you provide one, it might clobber another).</p>
<p>
<div class="md-included-snippet"><div class="codehilite"><pre>  <span class="c"># with_description() removed, as their docstring will be used instead.</span>
</pre></div></div>
</p>
<p><strong>Option help</strong> When registering a <code>Task</code> option, pass a <code>help</code> parameter to describe that option.</p>
<p>
<div class="md-included-snippet"><div class="codehilite"><pre>  <span class="k">def</span> <span class="nf">register_options</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">register</span><span class="p">):</span>
    <span class="nb">super</span><span class="p">(</span><span class="n">ListGoals</span><span class="p">,</span> <span class="n">cls</span><span class="p">)</span><span class="o">.</span><span class="n">register_options</span><span class="p">(</span><span class="n">register</span><span class="p">)</span>
    <span class="n">register</span><span class="p">(</span><span class="s">'--graph'</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s">'store_true'</span><span class="p">,</span>
             <span class="n">help</span><span class="o">=</span><span class="s">'Generate a graphviz graph of installed goals.'</span><span class="p">)</span>
</pre></div></div>
</p>

<table class="h-plus-pilcrow">
<tbody>
<tr>
<td class="h-plus-pilcrow-holder"><h3 id="targets-and-other-build-file-things">Targets and other <code>BUILD</code> File Things</h3></td>
<td><div class="pilcrow-div">
<a class="pilcrow-link" href="#targets-and-other-build-file-things">¶</a>
</div></td>
</tr>
</tbody>
</table>

<p>When a user views a target's parameters by entering <code>./pants targets --details=java_library</code> or
by browsing the <a href="build_dictionary.html#bdict_java_library" pantsref="bdict_java_library">Pants BUILD Dictionary</a>, they're mostly
seeing information from a docstring. Pants extracts the useful information with some reflection
code.</p>
<p>In a few cases, the reflection code doesn't do the right thing without some "steering". E.g.,
a Target is implemented by a Python class. <em>Most</em> of those class' methods aren't useful in
<code>BUILD</code> files, but a few are. To reveal only the useful methods in the docs, Pants omits them
by default, except those that have been tagged for inclusion.</p>
<p>To "steer" the reflection, use a <code>@manual.builddict</code> annotation. See its
<a href="https://github.com/pantsbuild/pants/blob/master/src/python/pants/base/build_manual.py">docstring</a>
for details about what it can show/hide.</p>

<table class="h-plus-pilcrow">
<tbody>
<tr>
<td class="h-plus-pilcrow-holder"><h2 id="generating-the-site">Generating the site</h2></td>
<td><div class="pilcrow-div">
<a class="pilcrow-link" href="#generating-the-site">¶</a>
</div></td>
</tr>
</tbody>
</table>

<p>To see http://pantsbuild.github.io/ site's content as it would be generated based on your local
copy of the pants repo, enter the command</p>
<div class="codehilite"><pre><span class="c"># This publishes the docs **locally** and opens (-o) them in your browser for review</span>
./build-support/bin/publish_docs.sh -o
</pre></div>

<table class="h-plus-pilcrow">
<tbody>
<tr>
<td class="h-plus-pilcrow-holder"><h2 id="publishing-the-site">Publishing the site</h2></td>
<td><div class="pilcrow-div">
<a class="pilcrow-link" href="#publishing-the-site">¶</a>
</div></td>
</tr>
</tbody>
</table>

<p>We publish the site via <a href="https://pages.github.com/">Github Pages</a>. You need <code>pantsbuild</code> commit
privilege to publish the site.</p>
<p>Use the same script as for generating the site, but request it also be published. Don't
worry—you'll get a chance to abort the publish just before it's committed remotely:</p>
<div class="codehilite"><pre><span class="c"># This publishes the docs locally and opens (-o) them in your browser for review</span>
<span class="c"># and then prompts you to confirm you want to publish these docs remotely before</span>
<span class="c"># proceeding to publish to http://pantsbuild.github.io</span>
./build-support/bin/publish_docs.sh -op
</pre></div>
<p>If you'd like to publish remotely for others to preview your changes easily, the <code>-d</code> option creates
a copy of the site in a subdir of <a href="http://pantsbuild.github.io/">http://pantsbuild.github.io/</a>:</p>
<div class="codehilite"><pre><span class="c"># This publishes the docs locally and opens (-o) them in your browser for review</span>
<span class="c"># and then prompts you to confirm you want to publish these docs remotely before</span>
<span class="c"># proceeding to publish to http://pantsbuild.github.io/sirois-test-site</span>
./build-support/bin/publish_docs.sh -opd sirois-test-site
</pre></div>

<table class="h-plus-pilcrow">
<tbody>
<tr>
<td class="h-plus-pilcrow-holder"><h2 id="cross-references">Cross References</h2></td>
<td><div class="pilcrow-div">
<a class="pilcrow-link" href="#cross-references">¶</a>
</div></td>
</tr>
</tbody>
</table>

<p>If your doc has a
link like <code>&lt;a pantsref="bdict_java_library"&gt;java_library&lt;/a&gt;</code>, it links to
the BUILD Dictionary entry for <code>java_library</code>. To set up a short-hand
link like this...</p>
<p>Define the destination of the link with an <code>pantsmark</code> anchor, e.g.,
<code>&lt;a pantsmark="bdict_java_library"&gt; &lt;/a&gt;</code>. The <code>pantsmark</code> attribute (here,
<code>bdict_java_library</code>) must be unique within the doc set.</p>
<p>Link to the destination with an <code>pantsref</code>, e.g.,
<code>&lt;a pantsref="bdict_java_library"&gt;java_library&lt;/a&gt;</code>.</p>

<table class="h-plus-pilcrow">
<tbody>
<tr>
<td class="h-plus-pilcrow-holder"><h2 id="doc-site-config">Doc Site Config</h2></td>
<td><div class="pilcrow-div">
<a class="pilcrow-link" href="#doc-site-config">¶</a>
</div></td>
</tr>
</tbody>
</table>

<p>The site generator
takes "raw" <code>.html</code> files, "wraps" them in a template with some
navigation UI, and writes out the resulting <code>.html</code> files.</p>
<p>You configure this with <code>src/python/pants/docs/docsite.json</code>:</p>
<p><code>sources</code>:<br>
Map of pages to the <code>.html</code> files they're generated from. E.g.,
<code>"build_dictionary": "dist/builddict/build_dictionary.html",</code> means to
generate the site's /build_dictionary.html page, the site generator
should get the "raw" file <code>dist/builddict/build_dictionary.html</code> and
apply the template to it.</br></p>
<p><code>tree</code>:<br>
Outline structure of the site. Each node of the tree is a dict. Each
node-dict can have a <code>page</code>, a page defined in <code>sources</code> above. Each
node-dict can have a <code>children</code>, a list of more nodes.</br></p>
<p><code>template</code>:<br>
Path to mustache template to apply to each page.</br></p>
<p><code>extras</code>:<br>
Map of "extra" files to copy over. Handy for graphics, stylesheets, and
such.</br></p>
<p><code>outdir</code>:<br>
Path to which to write the generated site.</br></p>
<p>To add a page and have it show up in the side navigation UI, add the
page to the <code>sources</code> dict and to the <code>tree</code> hierarchy.</p>

<!-- main content end -->

<div class="generated">
Generated by <a href="http://pantsbuild.github.io/docs.html">publish_docs</a>
from dist/markdown/html/src/python/pants/docs/docs.html 2015-11-15T14:05:29.833541
</div>

</div> <!-- end of mainflow -->

<nav class="bignav">
  <div class="bignav-logo">
    <a href="index.html">
      <img src="logo.ico" alt="[pantsbuild logo]">
    </a>
  </div>
  <form class="search" action="https://www.google.com/search">
  <input name="as_q" class="query" placeholder="Search">
  <input name="as_sitesearch" value="pantsbuild.github.io" type="hidden">
  </form>

<div class="site-toc">
<ul>
<li class="toc-h1 ">
<a href="first_concepts.html">Pants Conceptual Overview</a>
</li>
<li class="toc-h1 ">
<a href="first_tutorial.html">First Tutorial</a>
</li>
<li class="toc-h1 ">
<a href="target_addresses.html">Target Addresses</a>
</li>
<li class="toc-h1 ">
<a href="JVMProjects.html">JVM Projects with Pants</a>
</li>
<li class="toc-h2 ">
<a href="3rdparty_jvm.html">JVM 3rdparty Pattern</a>
</li>
<li class="toc-h2 ">
<a href="scala.html">Scala Projects with Pants</a>
</li>
<li class="toc-h2 ">
<a href="from_maven.html">Pants for Maven Experts</a>
</li>
<li class="toc-h1 ">
<a href="python-readme.html">Python Projects with Pants</a>
</li>
<li class="toc-h2 ">
<a href="3rdparty_py.html">Python 3rdparty Pattern</a>
</li>
<li class="toc-h2 ">
<a href="pex_design.html">PEX Design</a>
</li>
<li class="toc-h1 ">
<a href="page.html">README Files and Markdown</a>
</li>
<li class="toc-h1 ">
<a href="build_files.html">BUILD files</a>
</li>
<li class="toc-h1 ">
<a href="invoking.html">Invoking Pants Build</a>
</li>
<li class="toc-h1 ">
<a href="tshoot.html">Troubleshooting</a>
</li>
<li class="toc-h1 ">
<a href="3rdparty.html">Third-Party Dependencies</a>
</li>
<li class="toc-h2 ">
<a href="3rdparty_jvm.html">JVM 3rdparty Pattern</a>
</li>
<li class="toc-h2 ">
<a href="3rdparty_py.html">Python 3rdparty Pattern</a>
</li>
<li class="toc-h1 ">
<a href="ThriftDeps.html">Using Pants with Thrift Dependencies</a>
</li>
<li class="toc-h1 ">
<a href="publish.html">Publishing Artifacts</a>
</li>
<li class="toc-h1 ">
<a href="with_emacs.html">Emacs With Pants</a>
</li>
<li class="toc-h1 ">
<a href="with_intellij.html">Using Pants with IntelliJ IDEA</a>
</li>
<li class="toc-h1 ">
<a href="install.html">Installing Pants</a>
</li>
<li class="toc-h1 ">
<a href="setup_repo.html">Set up Your Source Tree for Pants</a>
</li>
<li class="toc-h1 ">
<a href="build_dictionary.html">Pants BUILD Dictionary</a>
</li>
<li class="toc-h1 ">
<a href="options_reference.html">Pants Options Reference</a>
</li>
<li class="toc-h1 ">
<a href="changelog.html">RELEASE HISTORY</a>
</li>
<li class="toc-h1 ">
<a href="export.html">Export Format</a>
</li>
<li class="toc-h1 ">
<a href="dev.html">Pants Developer Center</a>
</li>
<li class="toc-h2 ">
<a href="howto_contribute.html">Pants Contributors Guide</a>
</li>
<li class="toc-h2 ">
<a href="howto_ask.html">How To Ask</a>
</li>
<li class="toc-h2 ">
<a href="howto_develop.html">Pants Developers Guide</a>
</li>
<li class="toc-h2 ">
<a href="dev_tasks.html">Task Developer's Guide</a>
</li>
<li class="toc-h3 ">
<a href="dev_tasks_publish_extras.html">Develop a Task to Publish &quot;Extra&quot; Artifacts</a>
</li>
<li class="toc-h2 ">
<a href="howto_plugin.html">Developing a Pants Plugin</a>
</li>
<li class="toc-h2 ">
<a href="intellij.html">Pants Development with IntelliJ IDEA</a>
</li>
<li class="toc-h2 ">
<a href="internals.html">Pants Internals</a>
</li>
<li class="toc-h2 ">
<a href="release.html">Release Process</a>
</li>
<li class="toc-h3 ">
<a href="release_jvm.html">JVM Artifact Release Process</a>
</li>
<li class="toc-h2 toc-here">
About the documentation
</li>
<li class="toc-h2 ">
<a href="credits.html">Credits</a>
</li>
</ul>
</div>
</nav>

<div class="ci-status">
<a href="https://travis-ci.org/pantsbuild/pants">
<img src="https://travis-ci.org/pantsbuild/pants.png?branch=master"
     alt="Are the tests passing?" title="Are the tests passing?"></a><br>
<a href="https://coveralls.io/r/pantsbuild/pants?branch=master">
<img src="https://coveralls.io/repos/pantsbuild/pants/badge.png?branch=master"
     alt="Test Coverage Status" title="Test Coverage Status"></a>
</div>

</body>
</html>
